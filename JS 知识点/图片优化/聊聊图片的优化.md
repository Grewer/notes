## 前言

在当前的 web 开发过程中, 图片的使用是一种重要的功能

本期就来聊聊, 开发中的图片以及我们如何优化图片

## 图片的类型

### 位图

> 位图的特点是可以表现色彩的变化和颜色的细微过渡，产生逼真的效果，缺点是在保存时需要记录每一个像素的位置和颜色值，占用较大的存储空间。

位图的文件类型很多，如*.bmp、*.pcx、*.gif、*.jpg、*.tif、PS的*psd等；

### 矢量图

> 矢量图就像用几何图形来描述一幅图，在矢量图放大时，我们所记录的几何图形的各种角度、形状等并没有改变，所以无论是放大还是缩小，都不会影响矢量图的清晰度。

矢量图形格式也很多，如AdobeIllustrator的*.AI、*.EPS和SVG、AutoCAD的*.dwg和dxf、Corel DRAW的*.cdr等。

### 彩色深度

彩色深度标准通常有以下几种：

*   8位色 ，每个像素所能显示的彩色数为2的8次方 ，即256种颜色。
*   16位增强色，16位彩色，每个像素所能显示的彩色数为2的16次方，即65536种颜色。
*   24位真彩色，每个像素所能显示的彩色数为24位，即2的24次方，约1680万种颜色。
*   32位真彩色，即在24位真彩色图像的基础上再增加一个表示图像透明度信息的Alpha通道。
    32位真彩色并非是2的32次方的色数，**它其实也是1677万多色，不过它增加了256阶颜色的灰度,为了方便称呼，就规定它为32位色**

### 图片的压缩

1.  无压缩
2.  有损压缩
3.  无损压缩

### 无压缩

无压缩的图片格式不对图片数据进行压缩处理，能准确地呈现原图片。例如[BMP](https://baike.baidu.com/item/BMP%E6%A0%BC%E5%BC%8F/3427000?fr=aladdin)格式的图片。

### 有损压缩

指在压缩文件大小的过程中，损失了一部分图片的信息，也即降低了图片的质量（即图片被压糊了），并且这种损失是**不可逆的**。

常见的有损压缩手段是按照一定的算法将**临近的像素点进行合并**。压缩算法不会对图片所有的数据进行编码压缩，而是在压缩的时候，去除了人眼无法识别的图片细节。因此有损压缩可以在同等图片质量的情况下大幅降低图片的体积。例如`jpg`格式的图片使用的就是有损压缩。

### 无损压缩

在压缩图片的过程中，图片的质量没有任何损耗。我们任何时候都可以从无损压缩过的图片中恢复出原来的信息。

压缩算法对图片的所有的**数据进行编码压缩**，能在保证图片的质量的同时降低图片的体积。例如`png`、`gif`使用的就是无损压缩。

### 场景的图片格式

#### png

png支持8位、24位、32位3种，我们通常叫它们png8、png24、png32。

8位色，每个像素所能显示的彩色数为2的8次方，即256种颜色。16位增强色，16位彩色，每个像素所能显示的彩色数为2的16次方，即65536种颜色。24位真彩色，每个像素所能显示的彩色数为24位，即2的24次方，约1680万种颜色。32位真彩色，即在24位真彩色图像的基础上再增加一个表示图像透明度信息的Alpha通道。32位真彩色并非是2的32次方的色数，它其实也是1677万多色，不过它增加了256阶颜色的灰度,为了方便称呼，就规定它为32位色


#### jeg/jpeg

#### 渐进式jpeg(progressive jpeg)图片及其相关

JPEG XR ?

#### APNG

#### webp

#### svg

#### avif


#### Data URL



## 懒加载  
img 的 loading 属性
资源的lazyload或postpone。（lazyload：延迟到其他资源下载完成后再加载，postpone：延迟到元素可见再加载。）

## 预加载

<link rel=prefetch>

## 性能优化中的图片


## 引用

- https://jayzangwill.github.io/blog/2020/04/07/img-knowledge/
- https://www.zhihu.com/question/27201061/answer/35637827
- https://zhuanlan.zhihu.com/p/404911919